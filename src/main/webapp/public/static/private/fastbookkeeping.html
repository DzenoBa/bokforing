<!--Body content-->
<div>
    <h2>Snabb bokföring</h2>
    <div class="navbar-default">
        <div class="container-fluid" style="padding-bottom: 10px;">
            <div class="row">
                <div class="col-sm-4" style="padding-top:12px;"><h4><a href="" ng-show="step>1" ng-click="step = step-1">Tillbaka</a></h4></div>
                <div class="col-sm-4" style="text-align: center;">
                    <h3>Steg <span class="label label-info">{{step}}</span></h3>
                </div>
                <div class="col-sm-4"></div>
            </div>
        </div>
    </div>
    <div class="row" ng-show="step === 1">
        <div class="col-md-12">
            <ul class="nav nav-pills nav-justified">
                <li><a href="" ng-click="step = 2; steptype[0] = 1;">
                        <h3>Jag har fått betalt</h3>
                        <p>Bokför försäljning</p>
                    </a></li>
                <li><a href="" ng-click="step = 2; steptype[0] = 2; initPayed()">
                        <h3>Jag har betalat</h3>
                        <p>Bokför inköp</p>
                    </a></li>
            </ul>
        </div>
    </div>
    <div class="row" ng-show="step === 2">
        <div class="col-md-12">
            <h3>Välj bokföringstyp</h3>
            <div class="row" ng-show="steptype[0]===1">
                <div class="col-md-12">
                    <h3>Välj produkt</h3>
                    <form class="form-horizontal">
                        <div class="form-group" ng-mouseenter="hoverfn = true" ng-mouseleave="hoverfn = false">
                            <label class="col-sm-2 control-label">Välj produkt</label>
                            <div class="col-sm-10">
                                Här borde man söka efter produkt, fixar det senare!
                            </div>
                        </div>
                        <div class="form-group" ng-mouseenter="hoverfn = true" ng-mouseleave="hoverfn = false">
                            <label for="sum" class="col-sm-2 control-label">Summa</label>
                            <div class="col-sm-10">
                                <input type="number" class="form-control" step="0.01" ng-model="sum"/>
                            </div>
                        </div>
                        <div class="form-group" ng-mouseenter="hoverfn = true" ng-mouseleave="hoverfn = false">
                            <label class="col-sm-2 control-label">Moms</label>
                            <div class="col-sm-10">
                                Moms ska komma från produkten, fast just nu har 
                                produkten ingen information om moms så jag använder
                                2611 så länge.
                            </div>
                        </div>
                        <div class="form-group" ng-mouseenter="hoverfn = true" ng-mouseleave="hoverfn = false">
                            <div class="btn-group">
                                <button type="button" class="btn btn-success" ng-click="step = 3; calcStep2()">
                                    <span class="glyphicon glyphicon-ok" aria-hidden="true"></span> Nästa
                                </button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
            <div class="row" ng-show="steptype[0]===2">
                <div class="col-md-6">
                    <div class="alert alert-success" role="alert" style="margin-top:10px;" ng-show="form.numErrors === 0">
                        Din request lyckades!
                    </div>
                    <div class="alert alert-danger" role="alert" style="margin-top:10px;" ng-show="form.numErrors > 0 && form.errors.accounts">
                        {{form.errors.accounts}}
                    </div>
                    <button type="button" class="btn btn-success" ng-click="openaccount()">
                        <span class="glyphicon glyphicon-plus" aria-hidden="true"></span> Lägg till konto
                    </button>
                    <h3>Dina favorit konton</h3>
                    <div style="height:250px; width:100%; border: 1px solid #ccc; overflow:auto;">
                        <table class="table">
                            <tr>
                                <th style="width: 40%;">Nummer</th>
                                <th style="width: 40%;">Namn</th>
                                <th style="width: 20%;"></th>
                            </tr>
                            <tr ng-repeat="account in accounts">
                                <td>{{account.number}}</td>
                                <td>{{account.name}}</td>
                                <td>
                                    <div class="btn-group" role="group">
                                        <button class="btn btn-success" ng-click="selectAccount(account)">Välj</button>
                                        <button class="btn btn-danger" ng-click="deleteFavAccount(account)">
                                            <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
                                        </button>
                                    </div>
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
                <div class="col-md-6" ng-show="selectedAccount">
                    <form class="form-horizontal">
                        <div class="form-group">
                            <label for="sump" class="col-sm-3 control-label">Du har valt</label>
                            <div class="col-md-9">
                                <p class="help-block">{{selectedAccount.number}} - {{selectedAccount.name}}</p>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="sump" class="col-sm-3 control-label">Summa</label>
                            <div class="col-md-9">
                                <input id="sump" type="number" class="form-control" placeholder="Ange en summa"/>
                            </div>
                        </div>
                        <div class="form-group" ng-show="form.errors.sum !== null">
                            <div class="col-sm-3"></div><!-- Offset -->
                            <div class="col-sm-9">
                                <span class="error">{{form.errors.sum}}</span>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="momsp" class="col-sm-3 control-label">Moms</label>
                            <div class="col-md-9">
                                <select class="form-control" id="momsp">
                                    <option value="0">0 %</option>
                                    <option value="6">6 %</option>
                                    <option value="12">12 %</option>
                                    <option value="25">25 %</option>
                                 </select>
                            </div>
                        </div>
                        <div class="form-group" ng-show="form.errors.moms !== null">
                            <div class="col-sm-3"></div><!-- Offset -->
                            <div class="col-sm-9">
                                <span class="error">{{form.errors.moms}}</span>
                            </div>
                        </div>
                    </form>
                    <h3>Hur har du betalat?</h3>
                    <ul class="nav nav-pills nav-justified">
                        <li><a href="">
                                <h4>Kontant</h4>
                                <p>Pengar kommer att tas från till ditt Kassa-konto</p>
                            </a></li>
                        <li><a href="">
                                <h4>Kort</h4>
                                <p>Pengar kommer att tas från till ditt Bankgiro-konto</p>
                            </a></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    <div class="row" ng-show="step === 3">
        <div class="col-md-12">
            <h3 ng-show="steptype[0]===1">Hur fick du betalt?</h3>
            <h3 ng-show="steptype[0]===2">Hur har du betalat?</h3>
            <div class="row">
                <div class="col-md-12">
                    <ul class="nav nav-pills nav-justified">
                        <li><a href="" ng-click="step = 4; steptype[2] = 1; calcStep3()">
                                <h3>Kontant</h3>
                                <p ng-show="steptype[0]===1">Pengar kommer att läggas in till ditt Kassa-konto</p>
                                <p ng-show="steptype[0]===2">Pengar kommer att tas från till ditt Kassa-konto</p>
                            </a></li>
                        <li><a href="" ng-click="step = 4; steptype[2] = 2; calcStep3()">
                                <h3>Kort</h3>
                                <p ng-show="steptype[0]===1">Pengar kommer att läggas in till ditt Bankgiro-konto</p>
                                <p ng-show="steptype[0]===2">Pengar kommer att tas från till ditt Bankgiro-konto</p>
                            </a></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    <div class="row" ng-show="step === 4">
        <div class="col-md-12">
            <h3>Kontrolera & Bekräfta</h3>
            <table class="table">
                <tr>
                    <th style="width:33%;">Konto</th>
                    <th style="width:33%;">Debet</th>
                    <th style="width:33%;">Kredit</th>
                </tr>
                <tr ng-repeat="post in posts">
                    <td>{{post.accountid}} - {{post.accountname}}</td>
                    <td>{{post.debit}}</td>
                    <td>{{post.credit}}</td>
                </tr>
            </table>
        </div>
    </div>
</div>